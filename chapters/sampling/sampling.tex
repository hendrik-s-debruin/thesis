\chapter{Sampling}%
\label{chap:sampling}

	The designed architecture uses a sampling approach for path planning. Path
	planning was first investigated in two dimensions before generalising to the
	spatial case. The sampling algorithm chosen is a variant
	of the well-known \gls{rrt}
	algorithm~\cite{bib:planning:rapidly-exploring_random_trees_a_new_tool_for_path_planning}.

	\section{Overview of Planning Steps}

		As an initial overview, Figure~\ref{fig:path_planning_in_2d} shows the
		different planning stages for the planar case. The orange shapes
		represent obstacles that must be avoided. The green dot is the start
		pose of the end-effector, and the red dot is its final pose. For
		simplicity, the end-effector is not drawn in these images. The top-left
		image shows the construction of a topological graph representing
		possible collision-free paths of the end-effector. The top-right image
		shows the output of a graph-search to obtain a feasible path after the
		graph has been built. The bottom-left shows the output of several
		post-processing steps that optimise and simplify the found path.
		Finally, the bottom-right image shows the effect of smoothing the
		corners of the simplified path.

		\begin{figure}[htb]
			\centering
				\includegraphics[width=0.45\textwidth]{2d_search_1}%
				\includegraphics[width=0.45\textwidth]{2d_search_2}\\
				\includegraphics[width=0.45\textwidth]{2d_search_3}%
				\includegraphics[width=0.45\textwidth]{2d_search_4}
			\caption[Stages of Path Planning]
				{
					Stages of Path Planning\\
					Top Left: Graph Construction,
					Top Right: Graph Search,
					Bottom Left: Path simplification,
					Bottom Right: Path smoothing
				}
			\label{fig:path_planning_in_2d}
		\end{figure}

		The current chapter discusses the generation of the topological graph
		and subsequent graph search represented by the top row of
		Figure~\ref{fig:path_planning_in_2d}. Chapter~\ref{chap:path_processing}
		discusses the post-processing phases corresponding to the bottom row of
		the figure.  Both chapters discuss these procedures for the general case
		in $\specialEuclideanGroup{3}$.

	\input{chapters/sampling/subs/algorithm_overview}
	\input{chapters/sampling/subs/sample_strategy}
	\input{chapters/sampling/subs/path_checking}
	\input{chapters/sampling/subs/distance_measure}

